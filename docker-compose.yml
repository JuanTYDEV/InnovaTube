services:
  web:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./html:/usr/share/nginx/html
      - ./docker/nginx/nginx.conf:/etc/nginx/conf.d/default.conf
      # - ./docker/php-fpm/php-fpm.conf:/usr/local/etc/php-fpm.d/zzz-custom.conf
      # - ./html:/var/www/html
      # - ./php-fpm.conf:/usr/local/etc/php-fpm.d/zzz-custom.conf
      # - ./nginx.conf:/etc/nginx/conf.d/default.conf  # Configuraci√≥n personalizada de Nginx

    depends_on:
      - php # Depende del servicio PHP-FPM
    restart: unless-stopped

  php:
    image: php:8.2-fpm
    volumes:
      - ./html:/usr/share/nginx/html
      - ./docker/php-fpm/php-fpm.conf:/usr/local/etc/php-fpm.d/zzz-custom.conf
    restart: unless-stopped
  # php:
  #   image: php:8.2-fpm  # Usamos PHP-FPM
  #   volumes:
  #     # - ./html:/var/www/html  # Misma ruta que Nginx
  #     - ./html:/usr/share/nginx/html
  #   restart: unless-stopped
